(this["webpackJsonprecettes-frontend"]=this["webpackJsonprecettes-frontend"]||[]).push([[0],{44:function(e,t,c){"use strict";c.r(t);var i=c(2),s=c.n(i),r=c(19),a=c.n(r),n=c(5),l=c.n(n),j=c(0);var d=e=>{let{fetchRecettes:t,recetteToEdit:c,clearEdit:s}=e;const[r,a]=Object(i.useState)(""),[n,d]=Object(i.useState)(""),[o,u]=Object(i.useState)(""),[b,h]=Object(i.useState)(null);Object(i.useEffect)((()=>{c&&(a(c.titre),d(c.ingredients.join(", ")),u(c.etapes),h(c._id))}),[c]);return Object(j.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const c={titre:r,ingredients:n.split(","),etapes:o};b?(await l.a.put(`http://localhost:5000/api/recettes/${b}`,c),s()):await l.a.post("http://localhost:5000/api/recettes",c),t(),a(""),d(""),u("")},children:[Object(j.jsx)("input",{type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Titre",required:!0}),Object(j.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Ingr\xe9dients (s\xe9par\xe9s par des virgules)",required:!0}),Object(j.jsx)("textarea",{value:o,onChange:e=>u(e.target.value),placeholder:"\xc9tapes",required:!0}),Object(j.jsx)("button",{type:"submit",children:b?"Modifier Recette":"Ajouter Recette"})]})};var o=e=>{let{recettes:t,onDelete:c,onEdit:i}=e;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Liste des Recettes"}),Object(j.jsx)("ul",{children:t.map((e=>Object(j.jsxs)("li",{children:[Object(j.jsx)("h3",{children:e.titre}),Object(j.jsxs)("p",{children:["Ingr\xe9dients: ",e.ingredients.join(", ")]}),Object(j.jsxs)("p",{children:["\xc9tapes: ",e.etapes]}),Object(j.jsx)("button",{onClick:()=>i(e),children:"Modifier"}),Object(j.jsx)("button",{onClick:()=>c(e._id),children:"Supprimer"})]},e._id)))})]})};var u=e=>{let{fetchLivres:t,livreToEdit:c,clearEdit:s,recettes:r}=e;const[a,n]=Object(i.useState)(""),[d,o]=Object(i.useState)(""),[u,b]=Object(i.useState)([]),[h,p]=Object(i.useState)(null);Object(i.useEffect)((()=>{c&&(n(c.titre),o(c.description),b(c.recettes.map((e=>e._id))),p(c._id))}),[c]);return Object(j.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const c={titre:a,description:d,recettes:u};h?(await l.a.put(`http://localhost:5000/api/livres/${h}`,c),s()):await l.a.post("http://localhost:5000/api/livres",c),t(),n(""),o(""),b([])},children:[Object(j.jsx)("input",{type:"text",value:a,onChange:e=>n(e.target.value),placeholder:"Titre",required:!0}),Object(j.jsx)("textarea",{value:d,onChange:e=>o(e.target.value),placeholder:"Description"}),Object(j.jsx)("select",{multiple:!0,value:u,onChange:e=>{const t=Array.from(e.target.selectedOptions,(e=>e.value));b(t)},children:r.map((e=>Object(j.jsx)("option",{value:e._id,children:e.titre},e._id)))}),Object(j.jsx)("button",{type:"submit",children:h?"Modifier Livre":"Ajouter Livre"})]})};var b=e=>{let{livres:t,onDelete:c,onEdit:i}=e;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Liste des Livres de Recettes"}),Object(j.jsx)("ul",{children:t.map((e=>Object(j.jsxs)("li",{children:[Object(j.jsx)("h3",{children:e.titre}),Object(j.jsx)("p",{children:e.description}),Object(j.jsx)("ul",{children:e.recettes.map((e=>Object(j.jsx)("li",{children:e.titre},e._id)))}),Object(j.jsx)("button",{onClick:()=>i(e),children:"Modifier"}),Object(j.jsx)("button",{onClick:()=>c(e._id),children:"Supprimer"})]},e._id)))})]})},h=c(46),p=c(47),O=c(48);var x=e=>{let{recettes:t}=e;const[c,s]=Object(i.useState)([]),[r,a]=Object(i.useState)(new Date),[n,d]=Object(i.useState)(""),[o,u]=Object(i.useState)("midi"),b=async()=>{const e=await l.a.get("http://localhost:5000/api/repas");s(e.data)};Object(i.useEffect)((()=>{b()}),[]);const x=Array.from({length:7},((e,t)=>Object(h.a)(Object(p.a)(r),t)));return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Calendrier des Repas"}),Object(j.jsx)("div",{children:x.map((e=>Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:Object(O.a)(e,"eeee d MMMM")}),Object(j.jsx)("ul",{children:c.filter((t=>Object(O.a)(new Date(t.date),"yyyy-MM-dd")===Object(O.a)(e,"yyyy-MM-dd"))).map((e=>Object(j.jsxs)("li",{children:[e.type,": ",e.recette.titre]},e._id)))})]},e)))}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Ajouter un Repas"}),Object(j.jsx)("input",{type:"date",value:Object(O.a)(r,"yyyy-MM-dd"),onChange:e=>a(new Date(e.target.value))}),Object(j.jsxs)("select",{value:o,onChange:e=>u(e.target.value),children:[Object(j.jsx)("option",{value:"midi",children:"Midi"}),Object(j.jsx)("option",{value:"soir",children:"Soir"})]}),Object(j.jsxs)("select",{value:n,onChange:e=>d(e.target.value),children:[Object(j.jsx)("option",{value:"",children:"S\xe9lectionner une recette"}),t.map((e=>Object(j.jsx)("option",{value:e._id,children:e.titre},e._id)))]}),Object(j.jsx)("button",{onClick:async()=>{const e={date:r,type:o,recette:n};await l.a.post("http://localhost:5000/api/repas",e),b()},children:"Ajouter"})]})]})};var v=function(){const[e,t]=Object(i.useState)([]),[c,s]=Object(i.useState)([]),[r,a]=Object(i.useState)(null),[n,h]=Object(i.useState)(null),p=async()=>{const e=await l.a.get("http://localhost:5000/api/recettes");t(e.data)},O=async()=>{const e=await l.a.get("http://localhost:5000/api/livres");s(e.data)};return Object(i.useEffect)((()=>{p(),O()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Application de Recettes"}),Object(j.jsx)(d,{fetchRecettes:p,recetteToEdit:r,clearEdit:()=>{a(null)}}),Object(j.jsx)(o,{recettes:e,onDelete:async e=>{await l.a.delete(`http://localhost:5000/api/recettes/${e}`),p()},onEdit:e=>{a(e)}}),Object(j.jsx)(u,{fetchLivres:O,livreToEdit:n,clearEdit:()=>{h(null)},recettes:e}),Object(j.jsx)(b,{livres:c,onDelete:async e=>{await l.a.delete(`http://localhost:5000/api/livres/${e}`),O()},onEdit:e=>{h(e)}}),Object(j.jsx)(x,{recettes:e})]})};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.2e671345.chunk.js.map